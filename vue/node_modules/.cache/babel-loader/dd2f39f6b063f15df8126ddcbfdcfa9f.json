{"remainingRequest":"D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\study\\vue\\vue-test\\vue\\src\\components\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\study\\vue\\vue-test\\vue\\src\\components\\login\\index.vue","mtime":1550215136549},{"path":"D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\study\\vue\\vue-test\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport popbox from '../../assets/script/popup.js';\nimport { Popup } from 'mint-ui';\nVue.component(Popup.name, Popup);\nvar totleTime = 60;\nvar timeFlag = true;\nexport default {\n  name: 'loginbox',\n  data: function data() {\n    return {\n      message: '',\n      codemassage: '',\n      img_code: '',\n      code_tips: '获取验证码',\n      popupVisible1: false,\n      modelsss: false,\n      getCodeFlag: false,\n      code_img: ''\n    };\n  },\n  methods: {\n    getcode: function getcode() {\n      if (timeFlag) {\n        timeFlag = false;\n        var loginTime = localStorage.getItem('loginTime');\n\n        if (this.message == '') {\n          this.$commonjs.toast('手机号不能为空');\n          timeFlag = true;\n        } else {\n          if (this.$commonjs.checkMobile(this.message)) {\n            if (loginTime >= 5) {\n              timeFlag = true;\n              this.popupVisible1 = true;\n              var img = document.getElementById(\"verifyCode\");\n              img.src = this.$commonjs.urlPath() + '/login/create?w=120&h=60';\n            } else {\n              this.getSimCode();\n            }\n          } else {\n            timeFlag = true;\n            this.$commonjs.toast('手机号错误');\n          }\n        }\n      } else {\n        this.$commonjs.toast('稍后再试');\n      }\n    },\n    getSimCode: function getSimCode() {\n      var _this = this;\n\n      this.getCodeFlag = true; //设置已经获取到验证的标记\n\n      var loginTime = localStorage.getItem('loginTime');\n      console.log(loginTime);\n      var url = this.$commonjs.urlPath() + '/login/sendverifycode'; //你要传给后台的参数值 key/value\n\n      var params = new URLSearchParams();\n      params.append('mobile', this.message);\n      params.append('flag', 'atlg');\n      this.$axios({\n        method: 'post',\n        url: url,\n        data: params\n      }).then(function (res) {\n        timeFlag = true;\n\n        if (res.data.flag == 'Y') {\n          if (loginTime != undefined && loginTime != null && loginTime != '') {\n            localStorage.setItem('loginTime', localStorage.getItem('loginTime') * 1 + 1);\n          } else {\n            localStorage.setItem('loginTime', 1);\n          }\n\n          timeFlag = false;\n\n          _this.timeCount();\n        } else {\n          _this.$commonjs.toast(res.data['flag']);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    addEventCodeInput: function addEventCodeInput() {\n      var _this2 = this;\n\n      //设置光标位置\n      for (var k = 0; k < 4; k++) {\n        if (k == this.img_code.length) {\n          document.getElementsByClassName('btm_line')[k].classList.add('linebg');\n        } else {\n          document.getElementsByClassName('btm_line')[k].classList.remove('linebg');\n        }\n      }\n\n      if (this.img_code.length > 4) {\n        this.img_code = this.img_code.slice(0, 4);\n      } else if (this.img_code.length == 0) {\n        document.getElementsByClassName('btm_line')[0].innerHTML = '';\n      } else {\n        for (var y in this.img_code) {\n          document.getElementsByClassName('btm_line')[y].innerHTML = this.img_code[y];\n          var coes_leng = 4 - this.img_code.length;\n\n          for (var s = 0; s < coes_leng; s++) {\n            document.getElementsByClassName('btm_line')[3 - s].innerHTML = '';\n          }\n        }\n      }\n\n      if (this.img_code.length == 4) {\n        var url = this.$commonjs.urlPath() + '/login/verify'; //你要传给后台的参数值 key/value\n\n        var params = new URLSearchParams();\n        params.append('code', this.img_code);\n        params.append('flag', 'ATMLG');\n        this.$axios({\n          method: 'post',\n          url: url,\n          data: params\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.data.flag == 'Y') {\n            _this2.getSimCode();\n\n            _this2.popupVisible1 = false;\n          } else {\n            _this2.$commonjs.toast(res.data['flag']);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n    },\n    checkSimCode: function checkSimCode() {\n      var _this3 = this;\n\n      if (this.message) {\n        if (this.$commonjs.checkMobile(this.message)) {\n          if (this.getCodeFlag) {\n            if (this.codemassage.length == 6) {\n              var url = this.$commonjs.urlPath() + '/login/userlogin'; //你要传给后台的参数值 key/value\n\n              var params = new URLSearchParams();\n              params.append('mobile', this.message);\n              params.append('smsCode', this.codemassage);\n              this.$axios({\n                method: 'post',\n                url: url,\n                data: params\n              }).then(function (res) {\n                if (res.data.flag == 'Y') {\n                  console.log('登录成功');\n                } else {\n                  _this3.$commonjs.toast(res.data['flag']);\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n            }\n          } else {\n            this.message = '';\n            document.getElementById('semcode').value = '';\n            this.$commonjs.toast('要先获取验证码哦');\n          }\n        } else {\n          this.$commonjs.toast('填写正确的手机号');\n        }\n      } else {\n        this.message = '';\n        document.getElementById('semcode').value = '';\n        this.$commonjs.toast('手机号不能为空');\n      }\n    },\n    errPopTips: function errPopTips(val) {\n      popbox.$emit(\"popFun\", val); //$emit这个方法会触发一个事件\n    },\n    timeCount: function timeCount() {\n      var _this4 = this;\n\n      if (totleTime <= 0) {\n        totleTime = 60;\n        this.code_tips = '重新获取';\n        timeFlag = true; //回复标记\n\n        this.getCodeFlag = false;\n      } else {\n        --totleTime;\n        this.code_tips = totleTime + 's';\n        setTimeout(function () {\n          _this4.timeCount();\n        }, 1000);\n      }\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,MAAA,MAAA,8BAAA;AACA,SAAA,KAAA,QAAA,SAAA;AAEA,GAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,EAAA,KAAA;AACA,IAAA,SAAA,GAAA,EAAA;AAEA,IAAA,QAAA,GAAA,IAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,OAJA;AAKA,MAAA,aAAA,EAAA,KALA;AAMA,MAAA,QAAA,EAAA,KANA;AAOA,MAAA,WAAA,EAAA,KAPA;AAQA,MAAA,QAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,UAAA,QAAA,EAAA;AACA,QAAA,QAAA,GAAA,KAAA;AACA,YAAA,SAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;;AACA,YAAA,KAAA,OAAA,IAAA,EAAA,EAAA;AACA,eAAA,SAAA,CAAA,KAAA,CAAA,SAAA;AACA,UAAA,QAAA,GAAA,IAAA;AACA,SAHA,MAGA;AACA,cAAA,KAAA,SAAA,CAAA,WAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AACA,gBAAA,SAAA,IAAA,CAAA,EAAA;AACA,cAAA,QAAA,GAAA,IAAA;AACA,mBAAA,aAAA,GAAA,IAAA;AACA,kBAAA,GAAA,GAAA,QAAA,CAAA,cAAA,CAAA,YAAA,CAAA;AACA,cAAA,GAAA,CAAA,GAAA,GAAA,KAAA,SAAA,CAAA,OAAA,KAAA,0BAAA;AACA,aALA,MAKA;AACA,mBAAA,UAAA;AACA;AACA,WATA,MASA;AACA,YAAA,QAAA,GAAA,IAAA;AACA,iBAAA,SAAA,CAAA,KAAA,CAAA,OAAA;AACA;AACA;AACA,OArBA,MAqBA;AACA,aAAA,SAAA,CAAA,KAAA,CAAA,MAAA;AACA;AACA,KA1BA;AA2BA,IAAA,UA3BA,wBA2BA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA,CADA,CACA;;AACA,UAAA,SAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,UAAA,GAAA,GAAA,KAAA,SAAA,CAAA,OAAA,KAAA,uBAAA,CAJA,CAKA;;AACA,UAAA,MAAA,GAAA,IAAA,eAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,OAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,MAAA;AACA,WAAA,MAAA,CAAA;AAAA,QAAA,MAAA,EAAA,MAAA;AAAA,QAAA,GAAA,EAAA,GAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,QAAA,GAAA,IAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,cAAA,SAAA,IAAA,SAAA,IAAA,SAAA,IAAA,IAAA,IAAA,SAAA,IAAA,EAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,YAAA,CAAA,OAAA,CAAA,WAAA,IAAA,CAAA,GAAA,CAAA;AACA,WAFA,MAEA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,CAAA;AACA;;AACA,UAAA,QAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,SAAA;AACA,SARA,MAQA;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA;AACA,OAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAfA;AAgBA,KApDA;AAqDA,IAAA,iBArDA,+BAqDA;AAAA;;AACA;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,CAAA,IAAA,KAAA,QAAA,CAAA,MAAA,EAAA;AACA,UAAA,QAAA,CAAA,sBAAA,CAAA,UAAA,EAAA,CAAA,EAAA,SAAA,CAAA,GAAA,CAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,QAAA,CAAA,sBAAA,CAAA,UAAA,EAAA,CAAA,EAAA,SAAA,CAAA,MAAA,CAAA,QAAA;AACA;AACA;;AAEA,UAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,GAAA,KAAA,QAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,sBAAA,CAAA,UAAA,EAAA,CAAA,EAAA,SAAA,GAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,IAAA,CAAA,IAAA,KAAA,QAAA,EAAA;AACA,UAAA,QAAA,CAAA,sBAAA,CAAA,UAAA,EAAA,CAAA,EAAA,SAAA,GAAA,KAAA,QAAA,CAAA,CAAA,CAAA;AACA,cAAA,SAAA,GAAA,IAAA,KAAA,QAAA,CAAA,MAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,SAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,QAAA,CAAA,sBAAA,CAAA,UAAA,EAAA,IAAA,CAAA,EAAA,SAAA,GAAA,EAAA;AACA;AACA;AAEA;;AAEA,UAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,YAAA,GAAA,GAAA,KAAA,SAAA,CAAA,OAAA,KAAA,eAAA,CADA,CAEA;;AACA,YAAA,MAAA,GAAA,IAAA,eAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,QAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,OAAA;AACA,aAAA,MAAA,CAAA;AAAA,UAAA,MAAA,EAAA,MAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,UAAA;;AACA,YAAA,MAAA,CAAA,aAAA,GAAA,KAAA;AACA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA;AACA,SARA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,SAVA;AAWA;AAEA,KAjGA;AAkGA,IAAA,YAlGA,0BAkGA;AAAA;;AACA,UAAA,KAAA,OAAA,EAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AACA,cAAA,KAAA,WAAA,EAAA;AACA,gBAAA,KAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,kBAAA,GAAA,GAAA,KAAA,SAAA,CAAA,OAAA,KAAA,kBAAA,CADA,CAEA;;AACA,kBAAA,MAAA,GAAA,IAAA,eAAA,EAAA;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,OAAA;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,WAAA;AACA,mBAAA,MAAA,CAAA;AAAA,gBAAA,MAAA,EAAA,MAAA;AAAA,gBAAA,GAAA,EAAA,GAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,iBAFA,MAEA;AACA,kBAAA,MAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA;AACA,eANA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,eARA;AASA;AACA,WAjBA,MAiBA;AACA,iBAAA,OAAA,GAAA,EAAA;AACA,YAAA,QAAA,CAAA,cAAA,CAAA,SAAA,EAAA,KAAA,GAAA,EAAA;AACA,iBAAA,SAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA,SAvBA,MAuBA;AACA,eAAA,SAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA,OA3BA,MA2BA;AACA,aAAA,OAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,SAAA,EAAA,KAAA,GAAA,EAAA;AACA,aAAA,SAAA,CAAA,KAAA,CAAA,SAAA;AACA;AACA,KAnIA;AAoIA,IAAA,UApIA,sBAoIA,GApIA,EAoIA;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,QAAA,EAAA,GAAA,EADA,CACA;AACA,KAtIA;AAuIA,IAAA,SAvIA,uBAuIA;AAAA;;AACA,UAAA,SAAA,IAAA,CAAA,EAAA;AACA,QAAA,SAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,MAAA;AACA,QAAA,QAAA,GAAA,IAAA,CAHA,CAGA;;AACA,aAAA,WAAA,GAAA,KAAA;AACA,OALA,MAKA;AACA,UAAA,SAAA;AACA,aAAA,SAAA,GAAA,SAAA,GAAA,GAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,SAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA;AACA;AApJA;AAdA,CAAA","sourcesContent":["<template>\r\n    <div class=\"loginbox\">\r\n        <div class=\"tel_box clearfix\">\r\n            <div class=\"phone left\">+86</div>\r\n            <div class=\"left input_phone\"><input type=\"number\" name=\"contactway\" id=\"contactway\" v-model=\"message\" placeholder=\"请输入手机号码\" value=\"\" /></div>\r\n        </div>\n        <div class=\"code_box clearfix\">\r\n            <div class=\"code_input left\"><input type=\"number\" name=\"semcode\" id=\"semcode\" v-model=\"codemassage\" v-on:input=\"checkSimCode\"  placeholder=\"短信验证码\" value=\"\" /></div>\r\n            <div class=\"right\" @click=\"getcode\">{{code_tips}}</div>\r\n        </div>\r\n        \r\n        <!--二维码弹窗页面-->\r\n        <mt-popup v-model=\"popupVisible1\" popup-transition=\"popup-fade\" position=\"right\" class=\"mint-popup-1 mint-popup-right\" closeOnClickModal=\"modelsss\">\r\n            <div class=\"code_conta\">\r\n                <div class=\"code_tips\">输入下方数字</div>\r\n                <div class=\"codse_img_box\">\r\n                    <img id=\"verifyCode\" :src=\"code_img\"/>\r\n                </div>\r\n                <div class=\"code_input_box\">\r\n                    <input type=\"number\" name=\"imgcode\" id=\"imgcode\" value=\"\" v-model=\"img_code\" v-on:input=\"addEventCodeInput\" autofocus=\"autofocus\" />\r\n                    <div class=\"btm_line line1 linebg\"></div>\n                    <div class=\"btm_line line2\"></div>\n                    <div class=\"btm_line line3\"></div>\n                    <div class=\"btm_line line4\"></div>\r\n                </div>\r\n            </div>\r\n        </mt-popup>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from 'vue'\r\n    import popbox from '../../assets/script/popup.js';\r\n    import {Popup} from 'mint-ui';\r\n\r\n    Vue.component(Popup.name, Popup);\r\n    let totleTime = 60;\r\n    \r\n    let timeFlag = true;\r\n    export default{\r\n        name:'loginbox',\r\n        data:()=>{\r\n            return{\r\n                message: '',\r\n                codemassage:'',\r\n                img_code:'',\r\n                code_tips:'获取验证码',\r\n                popupVisible1: false,\r\n                modelsss:false,\r\n                getCodeFlag:false,\r\n                code_img:''\r\n            }\r\n        },\r\n        methods: {\r\n            getcode:function(){\r\n                if(timeFlag){\r\n                    timeFlag = false;\r\n                    const loginTime = localStorage.getItem('loginTime');\r\n                    if(this.message == ''){\r\n                        this.$commonjs.toast('手机号不能为空');\r\n                        timeFlag = true;\r\n                    }else{\r\n                        if(this.$commonjs.checkMobile(this.message)){\r\n                            if(loginTime >= 5){\r\n                                timeFlag = true;\r\n                                this.popupVisible1 = true;\r\n                                const img=document.getElementById(\"verifyCode\");  \r\n                                img.src = this.$commonjs.urlPath()+'/login/create?w=120&h=60';\r\n                            }else{\r\n                                this.getSimCode();\r\n                            }\r\n                        }else{\r\n                            timeFlag = true;\r\n                            this.$commonjs.toast('手机号错误');\r\n                        }\r\n                    }\r\n                }else{\r\n                    this.$commonjs.toast('稍后再试');\r\n                }\r\n            },\r\n            getSimCode(){\r\n                this.getCodeFlag=true;//设置已经获取到验证的标记\r\n                const loginTime = localStorage.getItem('loginTime');\r\n                console.log(loginTime);\r\n                const url = this.$commonjs.urlPath()+'/login/sendverifycode';\r\n                //你要传给后台的参数值 key/value\r\n                const params = new URLSearchParams();\r\n                params.append('mobile', this.message);\r\n                params.append('flag', 'atlg');\r\n                this.$axios({method: 'post',url:url,data:params}).then((res)=>{\r\n                    timeFlag = true;\r\n                    if(res.data.flag == 'Y'){\r\n                        if(loginTime != undefined && loginTime != null && loginTime != ''){\r\n                            localStorage.setItem('loginTime', localStorage.getItem('loginTime')*1+1);\r\n                        }else{\r\n                            localStorage.setItem('loginTime',1);\r\n                        }\r\n                        timeFlag = false;\r\n                        this.timeCount();\r\n                    }else{\r\n                        this.$commonjs.toast(res.data['flag']);\r\n                    }\r\n                }).catch(function (err) {\r\n                    console.log(err);\r\n                })\r\n            },\r\n            addEventCodeInput(){\r\n                //设置光标位置\r\n                for(let k=0;k<4;k++){\r\n                    if(k==this.img_code.length){\r\n                        document.getElementsByClassName('btm_line')[k].classList.add('linebg');\r\n                    }else{\r\n                        document.getElementsByClassName('btm_line')[k].classList.remove('linebg');\r\n                    }\r\n                }\r\n                \r\n                if(this.img_code.length > 4){\r\n                    this.img_code = this.img_code.slice(0,4);\r\n                }else if(this.img_code.length == 0){\r\n                    document.getElementsByClassName('btm_line')[0].innerHTML='';\r\n                }else{\r\n                    for(let y in this.img_code){\r\n                        document.getElementsByClassName('btm_line')[y].innerHTML=this.img_code[y];\r\n                        const coes_leng = 4-this.img_code.length;\r\n                        for(let s=0;s<coes_leng;s++){\n                            document.getElementsByClassName('btm_line')[3-s].innerHTML='';\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                \r\n                if(this.img_code.length == 4){\r\n                    const url = this.$commonjs.urlPath()+'/login/verify';\r\n                    //你要传给后台的参数值 key/value\r\n                    const params = new URLSearchParams();\r\n                    params.append('code', this.img_code);\r\n                    params.append('flag', 'ATMLG');\r\n                    this.$axios({method: 'post',url:url,data:params}).then((res)=>{\r\n                        console.log(res);\r\n                        if(res.data.flag == 'Y'){\r\n                            this.getSimCode();\r\n                            this.popupVisible1=false;\r\n                        }else{\r\n                            this.$commonjs.toast(res.data['flag']);\r\n                        }\r\n                    }).catch(function (err) {\r\n                        console.log(err);\r\n                    })\r\n                }\r\n                \r\n            },\r\n            checkSimCode(){\r\n                if(this.message){\r\n                    if(this.$commonjs.checkMobile(this.message)){\r\n                        if(this.getCodeFlag){\r\n                            if(this.codemassage.length == 6){\r\n                                const url = this.$commonjs.urlPath()+'/login/userlogin';\r\n                                //你要传给后台的参数值 key/value\r\n                                const params = new URLSearchParams();\r\n                                params.append('mobile', this.message);\n                                params.append('smsCode', this.codemassage);\r\n                                this.$axios({method: 'post',url:url,data:params}).then((res)=>{\r\n                                    if(res.data.flag == 'Y'){\r\n                                        console.log('登录成功');\r\n                                    }else{\r\n                                        this.$commonjs.toast(res.data['flag']);\r\n                                    }\r\n                                }).catch(function (err) {\r\n                                    console.log(err);\r\n                                })\r\n                            }\r\n                        }else{\r\n                            this.message = '';\r\n                            document.getElementById('semcode').value='';\r\n                            this.$commonjs.toast('要先获取验证码哦');\r\n                        }\r\n                    }else{\r\n                        this.$commonjs.toast('填写正确的手机号');\r\n                    }\r\n                }else{\r\n                    this.message = '';\r\n                    document.getElementById('semcode').value='';\r\n                    this.$commonjs.toast('手机号不能为空');\r\n                }\r\n            },\r\n            errPopTips(val){\r\n                popbox.$emit(\"popFun\",val);   //$emit这个方法会触发一个事件\r\n            },\r\n            timeCount(){\r\n                if(totleTime <= 0){\r\n                    totleTime = 60;\r\n                    this.code_tips = '重新获取';\r\n                    timeFlag = true;//回复标记\r\n                    this.getCodeFlag=false;\r\n                }else{\r\n                    --totleTime;\r\n                    this.code_tips = totleTime+'s';\r\n                    setTimeout(()=>{\r\n                        this.timeCount();\r\n                    },1000);\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .loginbox{width: 90%;margin: 0 auto;}\r\n    .loginbox .tel_box{border-bottom: 1px solid #F5F5F5;padding: 0.1rem 0.2rem;}\r\n    .loginbox .tel_box .phone{width: 13%;line-height: 40px;font-size: 0.15rem;opacity: 0.8;background: url(https://img01.youdemai.com/images/ydmapp/common/icon/icon_right.png)no-repeat right center;background-size: 0.07rem;}\n    .loginbox .tel_box .input_phone{width: 80%;}\r\n    .loginbox .code_box{border-bottom: 1px solid #F5F5F5;padding: 0.1rem 0.2rem;}\r\n    .loginbox .code_box .right{line-height: 0.4rem;font-size: 0.14rem;}\r\n    .loginbox .code_box  .code_input{width: 60%;}\r\n    \r\n    .code_conta{width: 80%;margin: 1.0rem auto 0;text-align: center;}\r\n    .code_conta .code_tips{font-size: 0.3rem;}\r\n    .code_conta .code_input_box{position: relative;}\r\n    .code_conta .code_input_box .btm_line{position: absolute;top: 0;border: 0;width: 19%;height: 40px;line-height: 40px;border-bottom: 1px solid #F5F5F5;}\n    .code_conta .code_input_box .btm_line.linebg{background: url(https://t.alipayobjects.com/images/rmsweb/T1nYJhXalXXXXXXXXX.gif)no-repeat 70% 0.1rem;background-size: 0.025rem;}\r\n    .code_conta .code_input_box .btm_line.line1{left: 0;}\n    .code_conta .code_input_box .btm_line.line2{left: 27%;}\n    .code_conta .code_input_box .btm_line.line3{left: 54%;}\n    .code_conta .code_input_box .btm_line.line4{left: 81%;}\r\n    .code_conta .code_input_box input{opacity: 0;}\r\n    \r\n    .mint-popup-1{width: 100%;left: 0%;top: 0%;height: 100%;-webkit-transform: translate3d(0, 0, 0);transform: translate3d(0, 0, 0);}\r\n</style>"],"sourceRoot":"src\\components\\login"}]}